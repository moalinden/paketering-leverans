(this["webpackJsonpprojekt-leverans"]=this["webpackJsonpprojekt-leverans"]||[]).push([[0],{45:function(e,t,n){},47:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(27),s=n.n(a),o=(n(45),n(7)),i=n.n(o),l=n(16),u=(n(47),n(17)),d=n(14),j=n(21),b=n(66),p=n(67),O=n(68),h=(n(54),n(1));var f=function(){var e=Object(d.c)((function(e){return e.storeSlice}));return 0===e.productCount?null:Object(h.jsx)("div",{id:"cartCount",children:e.productCount})},m=n(5),x=n(20);var v=function(){return Object(m.f)(),Object(h.jsxs)(b.a,{fluid:!0,style:{backgroundColor:"#bf8596",height:"200px"},children:[Object(h.jsxs)(p.a,{md:"auto",className:"justify-content-md-center xs-2",children:[Object(h.jsx)(O.a,{children:Object(h.jsx)(x.b,{to:"/",style:{color:"#F3DAC6"},children:Object(h.jsx)(u.a,{icon:j.f,className:"userIcons"})})}),Object(h.jsx)(O.a,{children:Object(h.jsxs)(x.b,{to:"/cart",style:{color:"#F3DAC6"},children:[Object(h.jsx)(u.a,{icon:j.c,className:"userIcons"}),Object(h.jsx)(f,{})]})}),Object(h.jsx)(O.a,{children:Object(h.jsx)(x.b,{to:"/Register",style:{color:"#F3DAC6"},children:Object(h.jsx)(u.a,{icon:j.b,className:"userIcons xs-2"})})}),Object(h.jsx)(O.a,{children:Object(h.jsx)(x.b,{to:"/Login",style:{color:"#F3DAC6"},children:Object(h.jsx)(u.a,{icon:j.e,className:"userIcons xs-2"})})}),Object(h.jsx)(O.a,{children:Object(h.jsx)(x.b,{to:"/About",style:{color:"#F3DAC6"},children:Object(h.jsx)(u.a,{icon:j.a,className:"userIcons"})})})]}),Object(h.jsx)(p.a,{md:"auto",className:"justify-content-md-center",style:{backgroundColor:"#bf8596",color:"#F3E7DA"},children:Object(h.jsx)(O.a,{style:{position:"absolute",top:"120px"},children:Object(h.jsx)("h1",{children:"Hej P\xe5 Dig Viner"})})})]})},y=(n(57),n(26));var g=function(){return Object(h.jsxs)("div",{id:"footerContainer",children:[Object(h.jsx)("p",{className:"footerIcon",children:Object(h.jsx)(u.a,{icon:y.b})}),Object(h.jsx)("p",{className:"footerIcon",children:Object(h.jsx)(u.a,{icon:y.a})}),Object(h.jsx)("p",{className:"footerIcon",children:Object(h.jsx)(u.a,{icon:y.d})}),Object(h.jsx)("p",{className:"footerIcon",children:Object(h.jsx)(u.a,{icon:y.c})})]})};var w=function(){return Object(h.jsx)("div",{children:"Laddar"})},N=n(70);var C=function(){return Object(h.jsx)(b.a,{fluid:!0,style:{minHeight:"100vh",padding:"60px"},children:Object(h.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(h.jsx)(N.a,{style:{width:"35rem",backgroundColor:"#F3E7DA",padding:"10px"},children:Object(h.jsxs)(N.a.Body,{children:[Object(h.jsx)(N.a.Title,{children:"The Wine Drinkers"}),Object(h.jsxs)(N.a.Text,{children:[Object(h.jsx)(p.a,{children:"Axel Cabernet Sauvignon - A favourit for many, that's why I'm famous."}),Object(h.jsx)(p.a,{children:"Ivy Chardonnay - You just can't stop loving me."}),Object(h.jsx)(p.a,{children:"Clara Riesling - Because just like the grape, I'm perfection!"}),Object(h.jsx)(p.a,{children:"Timmie Pinot Noir - I'm perfect to bring at every occation. The wine too!"}),Object(h.jsx)(p.a,{children:"Rafsan Sauvignon Blanc - When you want something fresh in life!"}),Object(h.jsx)(p.a,{children:"Pakorn Nebbiolo - Two words, strong and powerful. Women loves it."}),Object(h.jsx)(p.a,{children:"Moa Zinfandel - Either you love me or you hate me"})]})]})}),Object(h.jsx)(N.a,{style:{width:"35rem",backgroundColor:"#F3E7DA"},children:Object(h.jsxs)(N.a.Body,{children:[Object(h.jsx)(N.a.Title,{children:"  But... How Did It Start?"}),Object(h.jsx)(N.a.Text,{children:"A sunny evening during summer 2021, a group of people where drinking wine. They really enjoyed it so they started to import wine that Systembolaget didn't have so that other people could have the same experience. The End."})]})})]})})},T=(n(58),n(69)),_=function(e){return{type:"ADD_TO_STORE",value:1,payload:e}},k=function(e){return{type:"DECREMENT_ITEM",payload:e}};var E=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.storeSlice})),n=t.storedProducts;return console.log("outside function: ",t),n?Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{id:"navbar",children:Object(h.jsx)(O.a,{children:Object(h.jsx)(p.a,{className:"justify-content-md-center",children:Object(h.jsxs)(T.a,{variant:"tabs",defaultActiveKey:"/App",id:"navbar",children:[Object(h.jsx)(T.a.Item,{children:Object(h.jsx)(T.a.Link,{href:"/App",id:"navLink",children:"Red Wine"})}),Object(h.jsx)(T.a.Item,{children:Object(h.jsx)(T.a.Link,{href:"/App",id:"navLink",children:"White Wine"})}),Object(h.jsx)(T.a.Item,{children:Object(h.jsx)(T.a.Link,{href:"/App",id:"navLink",children:"Sparkling Wine"})})]})})})}),Object(h.jsx)("div",{id:"systembolaget",children:Object(h.jsx)("div",{className:"row",children:n.map((function(n,c){return Object(h.jsxs)("div",{className:"col-1",id:"wineBox",children:[Object(h.jsx)("div",{id:"bild",children:Object(h.jsx)("img",{src:n.imageUrl,alt:"wine and dinee",id:"winePic"})}),Object(h.jsxs)("div",{id:"wineFacts",children:[Object(h.jsx)("h3",{children:n.name}),Object(h.jsx)("p",{children:n.description}),Object(h.jsxs)("p",{children:[n.price," kr"]}),Object(h.jsx)("button",{id:"wishknapp",onClick:function(){return function(){var n=t.products,c=1e3*Math.random();localStorage.setItem(c,n),e({type:"FETCH-WISHLIST",payload:c})}()},children:"\u2661"}),Object(h.jsxs)("div",{id:"cartButtons",children:[Object(h.jsx)("button",{placeholder:"add to cart",onClick:function(){return function(n){console.log("inside: ",t);var c=t.products.find((function(e){return e.id===n.id}));console.log(c),t.products.length<1||void 0===c?e(_(n)):e(_(c))}(n)},id:"cartKnapp",children:"Add to Cart"}),Object(h.jsx)("button",{onClick:function(){return function(n){var c=t.products.find((function(e){return e.id===n.id}));t.products.length<1||void 0===c||e(k(c))}(n)},id:"cartKnapp",children:"decrement"})]})]})]},c)}))})})]}):Object(h.jsx)(w,{})},S=(n(61),n(11)),I=n(2),A=n(13);n(62);function K(){var e=Object(c.useState)({username:null,password:null}),t=Object(A.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Eyy");case 1:case"end":return e.stop()}}),e)})))()}),[]);var a=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.input,c=t.target.value,r((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},n,c))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={username:n.username,password:n.password},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},e.next=5,fetch("/api/loginUser",r);case 5:return a=e.sent,e.next=8,a.json();case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{class:"body",children:Object(h.jsx)("div",{class:"div-form",children:Object(h.jsxs)("form",{action:"",class:"form",children:[Object(h.jsx)("h1",{class:"form_title",children:"Sign In"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{class:"form_div",children:[Object(h.jsx)("input",{type:"text",class:"form_input","data-input":"username",placeholder:"",onChange:a}),Object(h.jsx)("label",{class:"form_label",children:"Username"})]}),Object(h.jsxs)("div",{class:"form_div",children:[Object(h.jsx)("input",{type:"password",class:"form_input","data-input":"password",placeholder:"",onChange:a}),Object(h.jsx)("label",{class:"form_label",children:"Password"})]}),Object(h.jsx)("input",{type:"submit",class:"form_button",value:"Sign In",onClick:s})]})})})}n(63);function D(e){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(i.a.mark((function e(t){var n,c,r,a,s,o,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={type:t.inpType,OK:!1},c=/\S+@\S+\.\S+/,!(t.inpVal.length<1)){e.next=5;break}return n.OK=!1,e.abrupt("return",n);case 5:e.t0=t.inpType,e.next="username"===e.t0?8:"firstname"===e.t0?22:"lastname"===e.t0?24:"email"===e.t0?26:"password"===e.t0?44:"repassword"===e.t0?49:51;break;case 8:return r={username:t.inpVal},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.next=12,fetch("/api/getUser/username",a);case 12:return s=e.sent,e.next=15,s.json();case 15:if(o=e.sent,console.log(o.amount),!(o.amount>0)){e.next=20;break}return n.OK=!1,e.abrupt("return",n);case 20:case 22:case 24:return n.OK=!0,e.abrupt("return",n);case 26:if(1!=c.test(t.inpVal)){e.next=30;break}n.OK=!0,e.next=32;break;case 30:return n.OK=!1,e.abrupt("return",n);case 32:return l={email:t.inpVal},u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},e.next=36,fetch("/api/getUser/email",u);case 36:return d=e.sent,e.next=39,d.json();case 39:if(!(e.sent.amount>0)){e.next=43;break}return n.OK=!1,e.abrupt("return",n);case 43:return e.abrupt("return",n);case 44:if(!(t.inpVal.length<5)){e.next=47;break}return n.OK=!1,e.abrupt("return",n);case 47:return n.OK=!0,e.abrupt("return",n);case 49:return null!=t.compVal&&t.inpVal==t.compVal&&(n.OK=!0),e.abrupt("return",n);case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(l.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.username),1!=P(t,!1)){e.next=3;break}return e.abrupt("return");case 3:return n={username:t.username.val,firstname:t.firstname.val,lastname:t.lastname.val,email:t.email.val,password:t.password.val},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=7,fetch("/api/addUser",c);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){for(var n in e)if(console.log(e[n]),e[n].OK==t)return!0;return!1}function B(){var e=Object(c.useState)({username:{val:null,OK:!1},firstname:{val:null,OK:!1},lastname:{val:null,OK:!1},email:{val:null,OK:!1},password:{val:null,OK:!1},repassword:{val:null,OK:!1}}),t=Object(A.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.dataset.input,a=t.target.value,s=null,"repassword"==c&&(s=n.password.val),"password"==c&&(s=n.repassword.val),e.next=7,D({inpVal:a,inpType:c,compVal:s});case 7:0==(o=e.sent).OK&&(t.target.style.borderColor="red",r((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},c,Object(I.a)(Object(I.a)({},e[c]),{},{OK:o.OK})))}))),1==o.OK&&(t.target.style.borderColor="green",r((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},c,Object(I.a)(Object(I.a)({},e[c]),{},{OK:o.OK})))})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.input,c=t.target.value,r((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},n,Object(I.a)(Object(I.a)({},e[n]),{},{val:c})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){e.preventDefault(),function(e){L.apply(this,arguments)}(n)};return Object(h.jsx)("div",{className:"body",children:Object(h.jsx)("div",{className:"div-form",children:Object(h.jsxs)("form",{action:"",className:"form",children:[Object(h.jsx)("h1",{className:"form_title",children:"Sign Up"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"text",className:"form_input","data-input":"username",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"Username"})]}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"text",className:"form_input","data-input":"firstname",placeholder:"",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"First name"})]}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"text",className:"form_input","data-input":"lastname",placeholder:"",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"Last name"})]}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"text",className:"form_input","data-input":"email",placeholder:"",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"Email"})]}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"text",className:"form_input","data-input":"password",placeholder:"",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"Password"})]}),Object(h.jsxs)("div",{className:"form_div",children:[Object(h.jsx)("input",{type:"password",className:"form_input","data-input":"repassword",placeholder:"",onBlur:a,onChange:s}),Object(h.jsx)("label",{className:"form_label",children:"Re-Enter password"})]}),Object(h.jsx)("input",{type:"submit",className:"form_button",value:"Sign Up",onClick:function(e){return o(e)}})]})})})}n(64);var F=function(){var e=Object(d.c)((function(e){return e.storeSlice})),t=e.products,n=(e.myTotalCount,Object(d.b)());console.log("state received in cart: ",t);var c=function(e,t){return e*t};return t.length>0&&t.reduce((function(e,t){return e+c(t)}),0),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)("h2",{className:"item-header",children:" Products in Cart"})})}),t.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsxs)("table",{className:"table table-bordered text-center",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Product"}),Object(h.jsx)("td",{children:"Name of Product"}),Object(h.jsx)("td",{children:"Price"}),Object(h.jsx)("td",{children:"Quantity"}),Object(h.jsx)("td",{children:"Remove"}),Object(h.jsx)("td",{children:"Total"})]})}),Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"imgCards",children:Object(h.jsx)("img",{src:"../media/red/Contrabandistes.jpg",alt:"whinebottle"})}),Object(h.jsxs)("td",{children:[" ",e.name]}),Object(h.jsxs)("td",{children:[" ",e.price,"kr"]}),Object(h.jsxs)("td",{children:[Object(h.jsxs)("span",{className:"button-3",id:"minus-button",onClick:function(){return function(e){n(k(e))}(e)},children:[" ","-"," "]}),e.count,Object(h.jsxs)("span",{className:"button-3",id:"add-button",onClick:function(){return function(e){n(_(e))}(e)},children:[" ","+"," "]})]}),Object(h.jsx)("td",{children:Object(h.jsx)(u.a,{icon:j.d,className:"userIcons",onClick:function(){return function(e){n({type:"DELETE_FROM_CART",payload:e})}(e)}})}),Object(h.jsx)("td",{children:c(e.price,e.count)})]})}),Object(h.jsxs)("div",{className:"buttonContainer",children:[Object(h.jsxs)("button",{className:"button-3",children:["Total Amount: ",c(e.price,e.count),"kr"]}),Object(h.jsx)("p",{className:"button-3",id:"checkout",onClick:function(){n({type:"EMPTY_CART"})},children:"EMPTY CART"})]})]})},t)}))]})};var V=function(){Object(d.c)((function(e){return e.storeSlice.products}));var e=Object(d.b)();return Object(c.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products");case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,e({type:"INIT_STORE",payload:c.products});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(h.jsx)(x.a,{children:Object(h.jsxs)("div",{id:"App",children:[Object(h.jsx)(v,{}),Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/Login",component:K}),Object(h.jsx)(m.a,{path:"/About",component:C}),Object(h.jsx)(m.a,{exact:!0,path:"/",component:E}),Object(h.jsx)(m.a,{exact:!0,path:"/Register",component:B}),Object(h.jsx)(m.a,{exact:!0,path:"/cart",component:F})]}),Object(h.jsx)(g,{})]})})},M=n(31),U=n(40),W={storedProducts:[],productCount:0,products:[],wishList:[],total:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_STORE":return Object(I.a)(Object(I.a)({},e),{},{storedProducts:t.payload});case"ADD_TO_STORE":var n=!1;if(e.products.forEach((function(e){n=e.id===t.payload.id})),n){var c=t.payload.count;return Object(I.a)(Object(I.a)({},e),{},{productCount:e.productCount+1,products:e.products.map((function(n){return n.id===t.payload.id?Object(I.a)(Object(I.a)({},n),{},{count:c+1,total:e.total+t.payload.price}):Object(I.a)({},n)}))})}return Object(I.a)(Object(I.a)({},e),{},{productCount:e.productCount+1,products:[].concat(Object(U.a)(e.products),[t.payload])});case"DECREMENT_ITEM":var r=t.payload.count;if(r>0&&e.productCount>0||r<0&&e.productCount<0){e.products.map((function(e){if(e.id===t.payload.id)return Object(I.a)(Object(I.a)({},e),{},{count:r-1})}));return Object(I.a)(Object(I.a)({},e),{},{productCount:e.productCount-1,products:e.products.map((function(e){return e.id===t.payload.id?Object(I.a)(Object(I.a)({},e),{},{count:r-1}):e})).filter((function(e){return 0!==e.count}))})}return e;case"FETCH-WISHLIST":return Object(I.a)(Object(I.a)({},e),{},{wishList:t.payload});case"REMOVE_WISHLIST":var a=e.wishList.find((function(e){return e===t.payload}));return a?Object(I.a)(Object(I.a)({},e),{},{keyToRemove:a}):Object(I.a)(Object(I.a)({},e),{},{error:"No matching key was found"});case"EMPTY_CART":return Object(I.a)(Object(I.a)({},e),{},{products:[]});case"DELETE_FROM_CART":return Object(I.a)(Object(I.a)({},e),{},{products:[e.products.filter((function(e){return e!==t.payload}))],productCount:e.productCount-t.payload.count});case"RESET":return e=0;default:return e}},J=Object(M.a)({storeSlice:H}),X=Object(M.b)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(h.jsxs)(r.a.StrictMode,{children:[Object(h.jsx)(d.a,{store:X,children:Object(h.jsx)(V,{})}),","]}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.27169741.chunk.js.map