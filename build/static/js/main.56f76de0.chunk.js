(this["webpackJsonpprojekt-leverans"]=this["webpackJsonpprojekt-leverans"]||[]).push([[0],{43:function(e,t,n){},45:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),s=n.n(c),i=(n(43),n(7)),o=n.n(i),l=n(15),u=n(11),d=(n(45),n(19)),j=n(20),p=n(61),b=n(62),O=n(63),h=n(64),f=n(17),m=n(1);var x=function(){var e=Object(f.c)((function(e){return e.storeSlice}));return 0===e.productCount?null:Object(m.jsx)("div",{id:"cartCount",children:e.productCount})};var v=function(){return Object(m.jsxs)(p.a,{fluid:!0,style:{backgroundColor:"#bf8596",height:"200px"},children:[Object(m.jsxs)(b.a,{md:"auto",className:"justify-content-md-center xs-2",children:[Object(m.jsx)(O.a,{children:Object(m.jsx)(h.a.Link,{href:"/App",style:{color:"#F3DAC6"},children:Object(m.jsx)(d.a,{icon:j.e,className:"userIcons"})})}),Object(m.jsx)(O.a,{children:Object(m.jsxs)(h.a.Link,{style:{color:"#F3DAC6"},children:[Object(m.jsx)(d.a,{icon:j.c,className:"userIcons"}),Object(m.jsx)(x,{})]})}),Object(m.jsx)(O.a,{children:Object(m.jsx)(h.a.Link,{href:"/Register",style:{color:"#F3DAC6"},children:Object(m.jsx)(d.a,{icon:j.b,className:"userIcons xs-2"})})}),Object(m.jsx)(O.a,{children:Object(m.jsx)(h.a.Link,{href:"/Login",style:{color:"#F3DAC6"},children:Object(m.jsx)(d.a,{icon:j.d,className:"userIcons xs-2"})})}),Object(m.jsx)(O.a,{children:Object(m.jsx)(h.a.Link,{href:"/About",style:{color:"#F3DAC6"},children:Object(m.jsx)(d.a,{icon:j.a,className:"userIcons"})})})]}),Object(m.jsx)("style",{}),Object(m.jsx)(b.a,{md:"auto",className:"justify-content-md-center",style:{backgroundColor:"#bf8596",color:"#F3E7DA"},children:Object(m.jsx)(O.a,{style:{position:"absolute",top:"120px"},children:Object(m.jsx)("h1",{children:"Hej P\xe5 Dig Viner"})})})]})};var y=function(){return Object(m.jsx)("div",{children:"Laddar"})},g=n(65);var w=function(){return Object(m.jsx)(p.a,{fluid:!0,style:{minHeight:"100vh",padding:"60px"},children:Object(m.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(m.jsx)(g.a,{style:{width:"35rem",backgroundColor:"#F3E7DA",padding:"10px"},children:Object(m.jsxs)(g.a.Body,{children:[Object(m.jsx)(g.a.Title,{children:"The Wine Drinkers"}),Object(m.jsxs)(g.a.Text,{children:[Object(m.jsx)(b.a,{children:"Axel Cabernet Sauvignon - A favourit for many, that's why I'm famous."}),Object(m.jsx)(b.a,{children:"Ivy Chardonnay - You just can't stop loving me."}),Object(m.jsx)(b.a,{children:"Clara Riesling - Because just like the grape, I'm perfection!"}),Object(m.jsx)(b.a,{children:"Timmie Pinot Noir - I'm perfect to bring at every occation. The wine too!"}),Object(m.jsx)(b.a,{children:"Rafsan Sauvignon Blanc - When you want something fresh in life!"}),Object(m.jsx)(b.a,{children:"Pakorn Nebbiolo - Two words, strong and powerful. Women loves it."}),Object(m.jsx)(b.a,{children:"Moa Zinfandel - Either you love me or you hate me"})]})]})}),Object(m.jsx)(g.a,{style:{width:"35rem",backgroundColor:"#F3E7DA"},children:Object(m.jsxs)(g.a.Body,{children:[Object(m.jsx)(g.a.Title,{children:"  But... How Did It Start?"}),Object(m.jsx)(g.a.Text,{children:"A sunny evening during summer 2021, a group of people where drinking wine. They really enjoyed it so they started to import wine that Systembolaget didn't have so that other people could have the same experience. The End."})]})})]})})},C=(n(55),function(e){return{type:"ADD_TO_STORE",value:1,payload:e}});var _=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.storeSlice})),n=t.products;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{id:"navbar",children:Object(m.jsx)(O.a,{children:Object(m.jsx)(b.a,{className:"justify-content-md-center",children:Object(m.jsxs)(h.a,{variant:"tabs",defaultActiveKey:"/App",id:"navbar",children:[Object(m.jsx)(h.a.Item,{children:Object(m.jsx)(h.a.Link,{href:"/App",id:"navLink",children:"Red Wine"})}),Object(m.jsx)(h.a.Item,{children:Object(m.jsx)(h.a.Link,{href:"/App",id:"navLink",children:"White Wine"})}),Object(m.jsx)(h.a.Item,{children:Object(m.jsx)(h.a.Link,{href:"/App",id:"navLink",children:"Sparkling Wine"})})]})})})}),Object(m.jsx)("div",{id:"systembolaget",children:Object(m.jsx)("div",{className:"row",children:n.map((function(n,a){return Object(m.jsxs)("div",{className:"col-1",id:"wineBox",children:[Object(m.jsx)("div",{id:"bild",children:Object(m.jsx)("img",{src:n.imageUrl,alt:"wine and dinee",id:"winePic"})}),Object(m.jsxs)("div",{id:"wineFacts",children:[Object(m.jsx)("h3",{children:n.name}),Object(m.jsx)("p",{children:n.description}),Object(m.jsxs)("p",{children:[n.price," kr"]}),Object(m.jsx)("button",{id:"wishknapp",onClick:function(){return function(){var n=t.products,a=1e3*Math.random();localStorage.setItem(a,n),e({type:"FETCH-WISHLIST",payload:a})}()},children:"\u2661"}),Object(m.jsxs)("div",{id:"cartButtons",children:[Object(m.jsx)("button",{placeholder:"add to cart",onClick:function(){return function(n){var a=t.products.find((function(e){return e.id===n.id}));t.products.length<1||void 0===a?e(C(n)):e(C(a))}(n)},id:"cartKnapp",children:"Add to Cart"}),Object(m.jsx)("button",{onClick:function(){var t;e({type:"DECREMENT_ITEM",payload:t})},id:"cartKnapp",children:"Delete"})]})]})]},a)}))})})]})},N=(n(56),n(12)),k=n(2);n(57);function T(){var e=Object(a.useState)({username:null,password:null}),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Eyy");case 1:case"end":return e.stop()}}),e)})))()}),[]);var c=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.input,a=t.target.value,r((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,a))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:n.username,password:n.password},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.next=5,fetch("/api/loginUser",r);case 5:return c=e.sent,e.next=8,c.json();case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{class:"body",children:Object(m.jsx)("div",{class:"div-form",children:Object(m.jsxs)("form",{action:"",class:"form",children:[Object(m.jsx)("h1",{class:"form_title",children:"Sign In"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{class:"form_div",children:[Object(m.jsx)("input",{type:"text",class:"form_input","data-input":"username",placeholder:"",onChange:c}),Object(m.jsx)("label",{class:"form_label",children:"Username"})]}),Object(m.jsxs)("div",{class:"form_div",children:[Object(m.jsx)("input",{type:"password",class:"form_input","data-input":"password",placeholder:"",onChange:c}),Object(m.jsx)("label",{class:"form_label",children:"Password"})]}),Object(m.jsx)("input",{type:"submit",class:"form_button",value:"Sign In",onClick:s})]})})})}n(58);function S(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(o.a.mark((function e(t){var n,a,r,c,s,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={type:t.inpType,OK:!1},a=/\S+@\S+\.\S+/,!(t.inpVal.length<1)){e.next=5;break}return n.OK=!1,e.abrupt("return",n);case 5:e.t0=t.inpType,e.next="username"===e.t0?8:"firstname"===e.t0?22:"lastname"===e.t0?24:"email"===e.t0?26:"password"===e.t0?44:"repassword"===e.t0?49:51;break;case 8:return r={username:t.inpVal},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.next=12,fetch("/api/getUser/username",c);case 12:return s=e.sent,e.next=15,s.json();case 15:if(i=e.sent,console.log(i.amount),!(i.amount>0)){e.next=20;break}return n.OK=!1,e.abrupt("return",n);case 20:case 22:case 24:return n.OK=!0,e.abrupt("return",n);case 26:if(1!=a.test(t.inpVal)){e.next=30;break}n.OK=!0,e.next=32;break;case 30:return n.OK=!1,e.abrupt("return",n);case 32:return l={email:t.inpVal},u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},e.next=36,fetch("/api/getUser/email",u);case 36:return d=e.sent,e.next=39,d.json();case 39:if(!(e.sent.amount>0)){e.next=43;break}return n.OK=!1,e.abrupt("return",n);case 43:return e.abrupt("return",n);case 44:if(!(t.inpVal.length<5)){e.next=47;break}return n.OK=!1,e.abrupt("return",n);case 47:return n.OK=!0,e.abrupt("return",n);case 49:return null!=t.compVal&&t.inpVal==t.compVal&&(n.OK=!0),e.abrupt("return",n);case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.username),1!=L(t,!1)){e.next=3;break}return e.abrupt("return");case 3:return n={username:t.username.val,firstname:t.firstname.val,lastname:t.lastname.val,email:t.email.val,password:t.password.val},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=7,fetch("/api/addUser",a);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){for(var n in e)if(console.log(e[n]),e[n].OK==t)return!0;return!1}function A(){var e=Object(a.useState)({username:{val:null,OK:!1},firstname:{val:null,OK:!1},lastname:{val:null,OK:!1},email:{val:null,OK:!1},password:{val:null,OK:!1},repassword:{val:null,OK:!1}}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.dataset.input,c=t.target.value,s=null,"repassword"==a&&(s=n.password.val),"password"==a&&(s=n.repassword.val),e.next=7,S({inpVal:c,inpType:a,compVal:s});case 7:0==(i=e.sent).OK&&(t.target.style.borderColor="red",r((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},a,Object(k.a)(Object(k.a)({},e[a]),{},{OK:i.OK})))}))),1==i.OK&&(t.target.style.borderColor="green",r((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},a,Object(k.a)(Object(k.a)({},e[a]),{},{OK:i.OK})))})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.input,a=t.target.value,r((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,Object(k.a)(Object(k.a)({},e[n]),{},{val:a})))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){e.preventDefault(),function(e){I.apply(this,arguments)}(n)};return Object(m.jsx)("div",{className:"body",children:Object(m.jsx)("div",{className:"div-form",children:Object(m.jsxs)("form",{action:"",className:"form",children:[Object(m.jsx)("h1",{className:"form_title",children:"Sign Up"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"text",className:"form_input","data-input":"username",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"Username"})]}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"text",className:"form_input","data-input":"firstname",placeholder:"",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"First name"})]}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"text",className:"form_input","data-input":"lastname",placeholder:"",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"Last name"})]}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"text",className:"form_input","data-input":"email",placeholder:"",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"Email"})]}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"text",className:"form_input","data-input":"password",placeholder:"",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"Password"})]}),Object(m.jsxs)("div",{className:"form_div",children:[Object(m.jsx)("input",{type:"password",className:"form_input","data-input":"repassword",placeholder:"",onBlur:c,onChange:s}),Object(m.jsx)("label",{className:"form_label",children:"Re-Enter password"})]}),Object(m.jsx)("input",{type:"submit",className:"form_button",value:"Sign Up",onClick:function(e){return i(e)}})]})})})}var D=n(37),K=n(5);var R=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],c=(Object(f.c)((function(e){return e.storeSlice})),Object(f.b)());return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,localStorage.setItem("/api/products",JSON.stringify(n.products)),c(C(n.products)),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n?Object(m.jsx)("div",{id:"app",children:Object(m.jsx)(y,{})}):Object(m.jsx)(D.a,{children:Object(m.jsxs)("div",{id:"App",children:[Object(m.jsx)(v,{}),Object(m.jsxs)(K.c,{children:[Object(m.jsx)(K.a,{path:"/Login",children:Object(m.jsx)(T,{})}),Object(m.jsx)(K.a,{path:"/Register",children:Object(m.jsx)(A,{})}),Object(m.jsx)(K.a,{path:"/About",children:Object(m.jsx)(w,{})}),Object(m.jsx)(K.a,{children:Object(m.jsx)(_,{path:"/"})})]})]})})},B=n(27),P={storedProducts:JSON.parse(localStorage.getItem("/api/products")),productCount:0,products:[],wishList:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_STORE":var n=!1;if(e.products.forEach((function(e){if(e.id===t.payload.id&&(n=!0),e.id!==t.payload.id)return!1})),n){var a=t.payload.count;return Object(k.a)(Object(k.a)({},e),{},{productCount:e.productCount+1,products:e.products.map((function(e){return e.id===t.payload.id?Object(k.a)(Object(k.a)({},e),{},{count:a+1}):Object(k.a)({},e)}))})}return Object(k.a)(Object(k.a)({},e),{},{productCount:e.productCount+1,products:t.payload});case"DELETE_PRODUCT":return Object(k.a)(Object(k.a)({},e),{},{products:e.products.filter((function(e){return e.id!==t.payload.id}))});case"DECREMENT_ITEM":var r=t.payload.count;return r>0&&e.productCount>0?Object(k.a)(Object(k.a)({},e),{},{productCount:e.productCount-1,products:e.products.map((function(e){if(e.id===t.payload.id)return Object(k.a)(Object(k.a)({},e),{},{count:r-1})}))}):e;case"FETCH-WISHLIST":return Object(k.a)(Object(k.a)({},e),{},{wishList:t.payload});case"REMOVE_WISHLIST":var c=e.wishList.find((function(e){return e===t.payload}));return c?Object(k.a)(Object(k.a)({},e),{},{keyToRemove:c}):Object(k.a)(Object(k.a)({},e),{},{error:"No matching key was found"});case"EMPTY_WHOLE_CART":return{};case"CALCULATE_TOTAL_PRICE":return Object(k.a)({},e);case"RESET":return 0;default:return e}},U=Object(B.a)({storeSlice:V}),F=Object(B.b)(U,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(f.a,{store:F,children:Object(m.jsx)(R,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.56f76de0.chunk.js.map